@use '@angular/material' as mat;

@use '../../app/design-system' as ds;
@use './volvo-colors';

:root {
  background-color: var(--mat-sys-surface);

  @include mat.theme((
    color: (
      theme-type: light,
      primary: volvo-colors.$primary-palette,
      tertiary: volvo-colors.$tertiary-palette,
    ),
    typography: Roboto,
  ));

  @include ds.theme((
    brand-primary: #284e80,
    brand-secondary: #2875C3,
    brand-tertiary: #161618,
    container-shape: 1em,
    label-text-transform: uppercase,
    outline-width: 3px
  ));

  @include ds.theme-overrides((
    //container-shape: 0, // This works!
    filled-container-shape: 0
  ), true);

  // Use high contrast light theme colors when users prefer contrast
  @media (prefers-contrast: more) {
    @include volvo-colors.high-contrast-overrides(light);
  }

  // Apply dark theme when users prefer a dark color scheme
  @media (prefers-color-scheme: dark) {
    @include mat.theme((
      color: (
        primary: volvo-colors.$primary-palette,
        tertiary: volvo-colors.$tertiary-palette,
        theme-type: dark,
      ),
    ));

    @include ds.theme((
      brand-primary: #2875C3,
      brand-secondary: #284e80,
      brand-tertiary: #161618
    ));

    // Use high contrast dark theme colors when users prefers a dark color scheme and contrast
    @media (prefers-contrast: more) {
      @include volvo-colors.high-contrast-overrides(dark);
    }
  }
}
